<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js">
<!--<![endif]-->

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>iModel Bridges - iModel.js</title>
    <meta name="og:title" content="iModel Bridges - iModel.js">
    <meta name="twitter:title" content="iModel Bridges - iModel.js">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" type="text/css" href="http://builds.bentley.com/prgbuilds/AzureBuilds/iModelJsDocs/builds/30/Docs_Output/styles/bundle.css">

    <!-- bootstrap -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
        crossorigin="anonymous"></script>

    <!-- fonts -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet"> 
    
    <link rel="stylesheet" type="text/css" href="http://builds.bentley.com/prgbuilds/AzureBuilds/iModelJsDocs/builds/30/Docs_Output/styles/devRegistration.css"> 
    
    <link rel="stylesheet" type="text/css" href="http://builds.bentley.com/prgbuilds/AzureBuilds/iModelJsDocs/builds/30/Docs_Output/styles/landingPage.css">  
        <link rel='shortcut icon' type='image/x-icon' href='http://builds.bentley.com/prgbuilds/AzureBuilds/iModelJsDocs/builds/30/Docs_Output/landing-page/assets/imodeljs_16.png' /> 
        <meta property="og:description" content="Create Immersive Connections with your Infrastructure Digital Twin."><meta property="og:url" content="imodeljs.org"><meta name="twitter:card" content="summary_large_image">
        <meta property="og:image" content="http://builds.bentley.com/prgbuilds/AzureBuilds/iModelJsDocs/builds/30/Docs_Output/landing-page/assets/twitter-share.png">
        <meta />
</head>

<body data-site-root=http://builds.bentley.com/prgbuilds/AzureBuilds/iModelJsDocs/builds/30/Docs_Output/ class='layout-index '>
    <span id="contentLoader">
        <p>Woah! This page has a great deal of content... Give us a second to load it.</p>
    </span>
    <span id="contentLoaderBackground"></span>
    <div id="flex-wrapper">



        <header id="main-header">
            <div class='nav-header-container'>
                <nav class="navbar nav-main-header navbar-expand-md fixed-top navbar-light pb-0">
                    <a href="http://builds.bentley.com/prgbuilds/AzureBuilds/iModelJsDocs/builds/30/Docs_Output/" class="navbar-brand">
                            <img id="site-logo" class="site-logo" src="http://builds.bentley.com/prgbuilds/AzureBuilds/iModelJsDocs/builds/30/Docs_Output/landing-page/assets/imodeljs-logo.svg" /> 
                            <img id="site-logo-small" class="site-logo-small" src="http://builds.bentley.com/prgbuilds/AzureBuilds/iModelJsDocs/builds/30/Docs_Output/landing-page/assets/imodeljs-icon.svg" style="display:none;"/> 
                    </a>
                    <button class="navbar-toggler no-user-select mr-auto" type="button" data-toggle="collapse" data-target="#navbar5">
                        <span class="navbar-toggler-header"></span>
                    </button>
                    <ul class="navbar-nav ml-auto pr-0 nav-search">
                        <span class='search-bar'>
                          <li>
                            <div id='search-container'>
                            </div>
                          </li>
                          <script>
                            (function() {
                              var cx = '018053174497532353467:v_gnrjjlqwc';
                              var gcse = document.createElement('script');
                              gcse.type = 'text/javascript';
                              gcse.async = true;
                              gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
                              var s = document.getElementsByTagName('script')[0];
                              s.parentNode.insertBefore(gcse, s);
                            })();
                          </script>
                          <gcse:searchresults-only gname="sitesearch" resultSetSize="7"></gcse:search>
                        </span>
                    </ul>
                    <div class="navbar-collapse collapse justify-content-stretch" id="navbar5">
                        <ul class="navbar-nav mb-0" id="doc-site-tabs">
                                <li class="nav-item "><a class="nav-link" href="http://builds.bentley.com/prgbuilds/AzureBuilds/iModelJsDocs/builds/30/Docs_Output/getting-started">Getting Started</a></li><li class="nav-item "><a class="nav-link" href="http://builds.bentley.com/prgbuilds/AzureBuilds/iModelJsDocs/builds/30/Docs_Output/bis">BIS</a></li><li class="nav-item active"><a class="nav-link" href="http://builds.bentley.com/prgbuilds/AzureBuilds/iModelJsDocs/builds/30/Docs_Output/learning">Learning</a></li><li class="nav-item "><a class="nav-link" href="http://builds.bentley.com/prgbuilds/AzureBuilds/iModelJsDocs/builds/30/Docs_Output/reference">API Reference</a></li><li class="nav-item change-history-tab "><a class="nav-link" href="http://builds.bentley.com/prgbuilds/AzureBuilds/iModelJsDocs/builds/30/Docs_Output/changehistory">v1.1.0</a></li>
                        </ul>
                    </div>
                </nav>
            </div>
        </header>
<div id='main-wrapper'>
    <nav id='sidebar'>
        <div id='table-of-contents' class="custom-scrollbar">
            <div id="dismiss">
                <i id="dismiss-arrow" class="icon icon-chevron-left no-user-select"></i>
            </div>
            <hr id="dismiss-hr" class='sm-only'>
            <ul id='main-navigation-list'>
                <html><head></head><body><h3 id="the imodel.js library"><a href="http://builds.bentley.com/prgbuilds/azurebuilds/imodeljsdocs/builds/30/docs_output/learning/" class="table-of-contents-link">The iModel.js Library</a></h3>
    <ul>
    <li><a href="http://builds.bentley.com/prgbuilds/azurebuilds/imodeljsdocs/builds/30/docs_output/learning/frontend/" class="table-of-contents-link">Frontend</a></li>
    <li><a href="http://builds.bentley.com/prgbuilds/azurebuilds/imodeljsdocs/builds/30/docs_output/learning/backend/" class="table-of-contents-link">Backend</a></li>
    <li><a href="http://builds.bentley.com/prgbuilds/azurebuilds/imodeljsdocs/builds/30/docs_output/learning/common/" class="table-of-contents-link">Common</a></li>
    <li><a href="http://builds.bentley.com/prgbuilds/azurebuilds/imodeljsdocs/builds/30/docs_output/learning/geometry/" class="table-of-contents-link">Geometry</a></li>
    </ul>
    <hr>
    <p>&#xA0;</p>
    <h3 id="helpful links">Helpful links</h3>
    <ul>
    <li><a href="http://builds.bentley.com/prgbuilds/azurebuilds/imodeljsdocs/builds/30/docs_output/./learning/ecsql" class="table-of-contents-link">ECSQL</a></li>
    <li><a href="http://builds.bentley.com/prgbuilds/azurebuilds/imodeljsdocs/builds/30/docs_output/learning/imodelhub/" class="table-of-contents-link">iModelHub</a></li>
    <li><a href="http://builds.bentley.com/prgbuilds/azurebuilds/imodeljsdocs/builds/30/docs_output/./learning/wireformat" class="table-of-contents-link">Wire Format</a></li>
    <li><a href="http://builds.bentley.com/prgbuilds/azurebuilds/imodeljsdocs/builds/30/docs_output/./learning/faq" class="table-of-contents-link">Frequently Asked Questions</a></li>
    <li><a href="http://builds.bentley.com/prgbuilds/azurebuilds/imodeljsdocs/builds/30/docs_output/learning/guidelines/" class="table-of-contents-link">Guidelines and Tips</a></li>
    <li><a href="http://builds.bentley.com/prgbuilds/azurebuilds/imodeljsdocs/builds/30/docs_output/./learning/glossary" class="table-of-contents-link">Glossary</a></li>
    </ul>
    </body></html>
            </ul>
        </div>
    </nav>    <div class='documentation-main'>
        <article id="main" class="main-content">
            <button type="button" id="sidebarCollapse" class="no-user-select"> <i class="bread-crumb-label bread-crumb-expand-leftnav icon icon-chevron-right no-user-select" id="expand-leftnav"></i></button><div class='bread-crumb-label'><a href="http://builds.bentley.com/prgbuilds/AzureBuilds/iModelJsDocs/builds/30/Docs_Output/learning/">Learning</a> > imodel-bridges</div>
            <div class="edit-link"><a href="https://github.com/imodeljs/imodeljs/tree/master/docs/core/learning/imodel-bridges.md">Edit this page</a></div>
            <h1 id="imodel bridges">iModel Bridges</h1>
<p>Often, information modeled in an iModel is created by an application that stores its data in another format.
iModel Bridges exist for the purpose of transforming data from these other applications into iModels in iModelHub. Many iModel Bridges can be associated with a single iModel and hence the resulting iModel becomes an aggregator of many sources of data.</p>
<p>iModel Bridges need to carefully transform the source data to BIS-based data in the iModel, and hence each Bridge is written for a specific data source.</p>
<p>Examples of iModel Bridges include:</p>
<ul>
<li>AECOSim Building Designer</li>
<li>DGN</li>
<li>DWG</li>
<li>RVT</li>
<li>ISM</li>
<li>OpenPlant</li>
<li>OpenRail Designer</li>
<li>OpenRoads Designer</li>
<li>ProStructures</li>
<li>SmartPlant</li>
<li>Substation</li>
<li>etc.</li>
</ul>
<h2 class="h-bridge-execution">Bridge execution<a id="bridge-execution" class="heading-anchor" href="#bridge-execution"><span><i class="fa fa-link fa-rotate-90"></i></span></a></h2>
<p>Bridges are invoked by the <em>Bentley Orchestration Framework(OF)</em> product. The <em>Orchestration Framework</em> is installed on an <em>Automation server</em> machine. The <em>Automation Server</em> has access to a ProjectWise managed data source that contains the application native files. Any desired bridge can be installed on the <em>Automation Server</em>. All this data is specified in the connected project web-UI under <em>connection</em>.
The application source file and destination iModel are identified in <em>mapping</em>.
A <em>bridge-job</em> is the combination of <em>connection</em> and <em>mapping</em> and may be run on a pre-determined schedule.</p>
<h2 class="h-key-characteristics-of-imodel-bridges">Key characteristics of iModel Bridges<a id="key-characteristics-of-imodel-bridges" class="heading-anchor" href="#key-characteristics-of-imodel-bridges"><span><i class="fa fa-link fa-rotate-90"></i></span></a></h2>
<ul>
<li>Mappings of data are <em>from</em> source <em>into</em> an iModel.</li>
<li>If necessary, bridges store enough information about source data to detect the differences in it between job-runs. In this manner bridges generate <em>ChangeSets</em> that are sent to iModelHub. This is the key difference between a Bridge and a one-time converter.</li>
<li>Bridges locally store a mapping of native source Ids to iModel global Ids. This creates a &quot;back-link&quot; from data in iModels to its source application.</li>
<li>Each job generates data in the iModel that is isolated from all other jobs&apos; data. The resulting combined iModel is partitioned at the Subject level of the iModel; each Bridge job has its own Subject.</li>
<li>Bridge jobs <em>hold the locks</em> for all of their data, so it may not be modified by other iModel applications.</li>
</ul>
<h2 class="h-data-alignment">Data Alignment<a id="data-alignment" class="heading-anchor" href="#data-alignment"><span><i class="fa fa-link fa-rotate-90"></i></span></a></h2>
<p>For each iModel bridge author, there will always be two conflicting goals:</p>
<ol>
<li>To transform the data in such a way that it appears logical and &quot;correct&quot; to the users of the authoring application.</li>
<li>To transform the data in such a way that data from disparate authoring applications appear consistent.</li>
</ol>
<p>The appropriate balancing of these two conflicting goals is not an easy task. However, where clear BIS schema types exist, they should always be used.</p>
<h2 class="h-dynamic-schemas">Dynamic Schemas<a id="dynamic-schemas" class="heading-anchor" href="#dynamic-schemas"><span><i class="fa fa-link fa-rotate-90"></i></span></a></h2>
<p>Sometimes BIS domain schemas are not adequate to capture all the data in the authoring application. To avoid losing data, iModel Bridges may dynamically create application-specific schemas whose classes descend from the most appropriate BIS domain classes.</p>
<p>As iModel Bridges always run multiple times to keep an iModel synchronized, the schemas created by previous executions limit the schemas that can be used by subsequent executions. To provide consistency and enable concise change sets, the Bridges add to the previously-defined schemas (creating new schema versions). This follows the general schema update strategy defined in <a href='http://builds.bentley.com/prgbuilds/azurebuilds/imodeljsdocs/builds/30/docs_output/./bis/intro/schema-versioning-and-generations'>Schema Versioning and Generations</a></p>
<p>The <code>DynamicSchema</code> custom attribute should be set on customer specific application schemas. This custom attribute can be found in the standard schema <code>CoreCustomAttributes</code> and it enables the iModelHub to programmatically detect dynamic schemas. Dynamic schemas require special handling since their name and version are typically duplicated between iModels from different work sets.</p>
<h2 class="h-display-labels">Display Labels<a id="display-labels" class="heading-anchor" href="#display-labels"><span><i class="fa fa-link fa-rotate-90"></i></span></a></h2>
<p>Wherever practical, the Elements generated from iModel Bridges should be identifiable through an optimal &quot;Display Label&quot;.</p>
<p>As discussed in <a href='http://builds.bentley.com/prgbuilds/azurebuilds/imodeljsdocs/builds/30/docs_output/./bis/intro/element-fundamentals'>Element Fundamentals</a>, the Display Labels are created through the following logic:</p>
<ol>
<li>If the UserLabel property is set, it is taken as the Display Label.</li>
<li>If the CodeValue is set (and the UserLabel is not set), the CodeValue becomes the Display Label.</li>
<li>If neither UserLabel nor CodeValue is set, then a default Display Label is generated from the following data:<ul>
<li>Class Name</li>
<li>Associated Type&apos;s Name (if any)</li>
</ul>
</li>
</ol>
<p>iModel Bridge data transformations should be written considering the Display Label logic; UserLabel is the appropriate property for a Bridge to set to control the Display Label (CodeValue should never be set for anything other than coding purposes).</p>
<p><em>But what value should an iModel Bridge set UserLabel to?</em> There are three goals to consider in the generation of UserLabels. Those goals, in priority order, are:</p>
<ol>
<li>Consistency with source application label usage.</li>
<li>Consistency with BIS domain default labeling strategy.</li>
</ol>
<p>If the source application data has a property that conceptually matches the BIS UserLabel property, that value should always be transformed to UserLabel.</p>
<p>Each BIS domain author should provide a default Display Label strategy for each of its classes. This strategy should be be determined by the optimal <em>user</em> experience and typically will represent the consensus of Product Management for applications and services that are associated with the domain. Information that is typically considered in the domain&apos;s Display Label logic is:</p>
<ul>
<li><p>Class Name</p>
</li>
<li><p>Associated Type instance</p>
</li>
<li><p>Key Property (e.g. pipe diameter) or Key Relationship (e.g. material name)</p>
</li>
</ul>

            <p class='last-updated'>Last Updated:
                <span class='date-updated'>08 July, 2019</span>
            </p>
            <div id="imodeljs-github-comments">
            </div>
            
            <script>
              $(document).ready(function () {
                function initializeComments(repo) {
                  var s = document.createElement('script');
                  s.src = "http://builds.bentley.com/prgbuilds/AzureBuilds/iModelJsDocs/builds/30/Docs_Output/scripts/utterances/client.js";
                  s.setAttribute('repo', repo);
                  s.setAttribute('issue-term', 'title');
                  s.setAttribute('crossorigin', 'anonymous');
                  s.setAttribute('theme', 'github-light');
                  s.async = true;
            
                  document.getElementById("imodeljs-github-comments").appendChild(s);
                }
            
                var shouldShow = ldclient.variation(featureFlags.GithubIssuesFeedback);
            
                // shouldShow is undefined when ldclient has not emitted 'ready'.
                if (shouldShow === undefined) {
                  ldclient.on('ready', function () {
                    var gitIssueFlag = ldclient.variation(featureFlags.GithubIssuesFeedback);
                    var gitRepo = ldclient.variation(featureFlags.GitRepo);
                    if (gitIssueFlag) {
                      initializeComments(gitRepo);
                    }
                  });
                }
                else if (shouldShow) {
                  var gitRepo = ldclient.variation(featureFlags.GitRepo);
                  initializeComments(gitRepo);
                }
              });
            </script>
            
            <script type="text/javascript">
            
            </script>        </article>
    </div>
    <div class="toc-overlay"></div>
    <div id='inner-table-of-contents'>
       <!-- <div id='sticky-container' style="top: 76px; position: fixed;">
  <h4 class='heading'>On this page</h4>
    <div id="overview-container" class="clusterize-scroll">
      <ul id='nav' class='right-nav nav flex-column clusterize-content'>
              <li class='nav-item item '>
            <a class='title solo-title menu-text' href="#bridge-execution">Bridge execution</a>
    </li>
       <li class='nav-item item '>
            <a class='title solo-title menu-text' href="#key-characteristics-of-imodel-bridges">Key characteristics of iModel Bridges</a>
    </li>
       <li class='nav-item item '>
            <a class='title solo-title menu-text' href="#data-alignment">Data Alignment</a>
    </li>
       <li class='nav-item item '>
            <a class='title solo-title menu-text' href="#dynamic-schemas">Dynamic Schemas</a>
    </li>
       <li class='nav-item item '>
            <a class='title solo-title menu-text' href="#display-labels">Display Labels</a>
    </li>
 
      </ul>
    </div>
  </div>

 -->
    </div>
</div>

<!-- Footer -->
<footer class="page-footer font-small mdb-color pt-1 pb-3">
  <!-- Footer Links Container -->
  <div class="container text-center text-md-left">

    <!-- Grid row -->
    <div class="row d-flex align-items-center mt-2">

      <!-- Grid column -->
      <div class="col-md-7 col-lg-8 align-top d-none d-md-block">

        <a href="http://builds.bentley.com/prgbuilds/AzureBuilds/iModelJsDocs/builds/30/Docs_Output/" class="navbar-brand">
          <img id="site-logo" class="site-logo" style="zoom:75%;"
            src="http://builds.bentley.com/prgbuilds/AzureBuilds/iModelJsDocs/builds/30/Docs_Output/landing-page/assets/imodeljs-logo.svg" />
        </a>
        <small style="color: white; margin-right: 7px;"> powered by </small>
        <a href="https://www.bentley.com">
          <img href="https://www.bentley.com" id="sponsored-by-logo" class="sponsored-by-logo"
            style="zoom:75%; width: 162px; height: 37px;"
            src="http://builds.bentley.com/prgbuilds/AzureBuilds/iModelJsDocs/builds/30/Docs_Output/landing-page/assets/bentley.svg" />
        </a>
      </div>
      <!-- Grid column -->

      <!-- Grid column -->
      <div class="col-md-5 col-lg-4 ml-lg-0">

        <!-- Social buttons -->
        <div class="text-center text-md-right">
          <ul class="list-unstyled list-inline">
            <li class="list-inline-item">
              <a class="btn-floating btn-sm rgba-white-slight mx-1" href="https://twitter.com/imodeljs" target="_blank">
                <i class="fa fa-twitter"></i>
              </a>
            </li>
            </li>
            <li class="list-inline-item">
              <a class="btn-floating btn-sm rgba-white-slight mx-1" href="https://github.com/imodeljs" target="_blank">
                <i class="fa fa-github"></i>
              </a>
            </li>
            <li class="list-inline-item">
              <a class="btn-floating btn-sm rgba-white-slight mx-1" href="https://stackoverflow.com/tags/imodeljs"
                target="_blank">
                <i class="fa fa-stack-overflow"></i>
              </a>
            </li>
          </ul>
        </div>

      </div>
      <!-- Grid column -->

    </div>
    <!-- Grid row -->

  </div>
  <!-- Footer Links Container -->

</footer>
<!-- Footer -->

</div>
<a href="javascript:" id="return-to-top"><i class="icon icon-chevron-up"></i></a>
<script src="http://builds.bentley.com/prgbuilds/AzureBuilds/iModelJsDocs/builds/30/Docs_Output/scripts/bundle.js"></script>
</body>

</html>
<script src="http://builds.bentley.com/prgbuilds/AzureBuilds/iModelJsDocs/builds/30/Docs_Output/scripts/monaco-editor/min/vs/loader.js"></script>
<script src="http://builds.bentley.com/prgbuilds/AzureBuilds/iModelJsDocs/builds/30/Docs_Output/scripts/ts-playground.js"></script>
